<template>
    <lightning-card title="Upload Files" icon-name="standard:file">
        <lightning-file-upload
            label="Attach receipt"
            name="fileUploader"
            accept={acceptedFormats}
            record-id={recordId}
            onuploadfinished={handleUploadFinished}
            multiple
        ></lightning-file-upload>

        <template if:true={uploadedFiles.length}>
            <ul class="file-list">
                <template for:each={displayedItems} for:item="file" for:index="index">
                   
                        <!-- <span>{file.name} ({file.size})</span>
                        <img src={file.downloadUrl} alt={file.name} class="file-preview"/> -->
                        <div key={file.id} class="slds-box slds-m-bottom_small">
                            <a href={file.previewUrl} target="_blank">{file.name}</a>  
                        </div>
                        
                    
                </template>
            </ul>

            <div class="pagination">
                <lightning-button label="Previous" onclick={previousPage} class="slds-m-left_x-small" disabled={isFirstPage}></lightning-button>
                <span>{currentPage} of {totalPages}</span>
                <lightning-button label="Next" onclick={nextPage} class="slds-m-left_x-small" disabled={isLastPage}></lightning-button>
            </div>
        </template>
        <template if:false={uploadedFiles.length}>
            <p>No files uploaded yet.</p>
        </template>
    </lightning-card>
</template>